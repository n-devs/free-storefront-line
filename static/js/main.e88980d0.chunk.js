(this["webpackJsonpline-login-react"]=this["webpackJsonpline-login-react"]||[]).push([[0],{126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},152:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(1),r=a.n(c),o=a(17),i=a.n(o),s=(a(126),a(44)),d=(a(127),a(42)),l=a.n(d),p=a(181);a(128);var j=function(){return Object(n.jsxs)("div",{className:"pan-loader",children:[Object(n.jsx)("div",{className:"loader"}),Object(n.jsxs)("div",{className:"pan-container",children:[Object(n.jsx)("div",{className:"pan"}),Object(n.jsx)("div",{className:"handle"})]}),Object(n.jsx)("div",{className:"shadow"})]})},u=a(7),b=a(207),O=a(205),h=a(24),y=a(73),m=a(26),f=a.n(m);var g=function(){return Object(n.jsxs)(r.a.Fragment,{children:[" ","\u0e44\u0e21\u0e48\u0e1e\u0e1a LIFF ID"]})},x=a(13),_=a.n(x),D=a(5),E=a(20),A=a(182),S=a(208),P=a(72),N=a(183),R=a(184),T=a(71);a(147);T.a.initializeApp({apiKey:"AIzaSyDCUQ-vsV4VYRP16pHojugIJE_bsyL1jh0",authDomain:"cafe-frontend.firebaseapp.com",projectId:"cafe-frontend",storageBucket:"cafe-frontend.appspot.com",messagingSenderId:"756372913299",appId:"1:756372913299:web:2656132921e877b4a12166",measurementId:"G-7Z8SS2XT6X"}),T.a.apps.length?T.a.app():T.a.initializeApp({});var I=T.a.firestore(),C=a(10),U=a(204),v=Object(C.a)((function(e){return{input:{color:"#00b900",fontWeight:"bold",borderRadius:4,position:"relative",backgroundColor:e.palette.common.white,textAlign:"center",fontSize:30,width:"auto",padding:"10px 12px",fontFamily:["Roboto","Meiryo","-apple-system","system-ui","BlinkMacSystemFont","Segoe UI","Helvetica Neue","Segoe UI Emoji","Segoe UI Symbol","Apple Color Emoji","Noto Color Emoji","Noto Emoji","sans-serif","Arial"].join(",")}}}))(U.a),w=Object(p.a)((function(e){return{avatars:{width:e.spacing(10),height:e.spacing(10)},appBar:{top:"auto",bottom:0,backgroundColor:"white",padding:15},layout:{padding:"10px 0px"},app:{height:450}}}));var L=function(){var e=r.a.useState(!0),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(u.b)(),i=w(),d=f.a.parse(window.location.search),p=Object(u.c)((function(e){return e.user})),b=Object(u.c)((function(e){return e.auth})),O=Object(h.g)(),y=I.collection("line_apps");function m(){return(m=Object(E.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.doc(d.liff_id).collection("users").doc(p.userId).update({userId:p.userId,displayName:p.displayName,pictureUrl:p.pictureUrl,numberPhone:p.numberPhone}).then((function(){o({type:"AUTH_STATUS",payload:!0}),O.push("".concat(d.pathname,"?liff_id=").concat(d.liff_id))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.useEffect((function(){var e=I.collection("line_apps");sessionStorage.getItem("liff_id")?l.a.init({liffId:"".concat(sessionStorage.getItem("liff_id"))}).then(Object(E.a)(_.a.mark((function t(){var a,n;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!l.a.isLoggedIn()){t.next=22;break}return t.next=3,l.a.getProfile();case 3:return a=t.sent,console.log(a),t.next=7,e.doc(sessionStorage.getItem("liff_id")).collection("users").doc(a.userId).get();case 7:if((n=t.sent).exists){t.next=18;break}return console.log("No such document!"),o({type:"AUTH_STATUS",payload:!1}),o({type:"USER_DISPLAY_NAME",payload:a.displayName}),o({type:"USER_ID",payload:a.userId}),o({type:"USER_PICTURE_URL",payload:a.pictureUrl}),t.next=16,e.doc(sessionStorage.getItem("liff_id")).collection("users").doc(a.userId).set(Object(D.a)({},a));case 16:t.next=20;break;case 18:console.log("getProfile line:",a),n.data().numberPhone?(console.log("Document data:",n.data()),o({type:"AUTH_STATUS",payload:!0}),o({type:"USER_DISPLAY_NAME",payload:n.data().displayName}),o({type:"USER_ID",payload:n.data().userId}),o({type:"USER_PICTURE_URL",payload:n.data().pictureUrl}),o({type:"USER_NUMBER_PHONE",payload:n.data().numberPhone}),c(!1)):(o({type:"AUTH_STATUS",payload:!1}),o({type:"USER_DISPLAY_NAME",payload:n.data().displayName}),o({type:"USER_ID",payload:n.data().userId}),o({type:"USER_PICTURE_URL",payload:n.data().pictureUrl}),c(!1));case 20:t.next=25;break;case 22:o({type:"AUTH_FIST_PATH",payload:window.location.pathname}),l.a.login({redirectUri:"".concat(window.location.href)}),console.log("a");case 25:case"end":return t.stop()}}),t)})))).catch((function(e){throw e})):(console.log("b"),o({type:"AUTH_LIFF_ID",payload:d.liff_id}))}),[b.status]),Object(n.jsx)("div",{children:a?Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(j,{})}):Object(n.jsx)(r.a.Fragment,{children:b.status?Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(h.a,{to:"".concat(d.pathname,"?liff_id=").concat(d.liff_id)})}):Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:i.app,children:Object(n.jsx)(A.a,{item:!0,xs:12,children:Object(n.jsxs)(A.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(n.jsxs)(A.a,{item:!0,xs:12,children:[Object(n.jsx)(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:i.layout,style:{paddingTop:20},children:Object(n.jsx)(S.a,{alt:p.displayName,src:p.pictureUrl,className:i.avatars})}),Object(n.jsx)(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:i.layout,children:Object(n.jsx)(P.a,{variant:"h6",component:"h6",children:p.displayName})}),Object(n.jsxs)(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:i.layout,style:{paddingTop:20},children:[Object(n.jsx)("label",{htmlFor:"phone",children:"\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c:"}),Object(n.jsx)(v,{type:"tel",id:"phone",name:"phone",pattern:"[0-9]{3} [0-9]{2} [0-9]{3} [0-9]{4}",placeholder:"+66 80 123 1234",onChange:function(e){o({type:"USER_NUMBER_PHONE",payload:e.target.value})}})]})]}),Object(n.jsx)(A.a,{item:!0,xs:12})]})})}),Object(n.jsx)(N.a,{position:"fixed",color:"primary",className:i.appBar,children:Object(n.jsx)(R.a,{variant:"contained",style:{fontSize:"1em",backgroundColor:"#00b900",color:"#fff",fontWeight:"bold"},onClick:function(){return m.apply(this,arguments)},children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c"})})]})})})},k=a(202),F=a(188),B=a(186),G=a(187),H=a(31),M=a.n(H),z=a(185),W=Object(p.a)((function(e){return{appBar:{position:"relative",backgroundColor:"#7d8690"},title:{flex:1}}})),V=r.a.forwardRef((function(e,t){return Object(n.jsx)(z.a,Object(D.a)({direction:"up",ref:t},e))}));function Y(){var e=W(),t=Object(u.b)(),a=Object(u.c)((function(e){return e.control})),c=Object(u.c)((function(e){return e.user})),r=function(){t({type:"CONTROL_OPEN_DIALOG_CHANG_NUMBER_PHONE",payload:!a.openDialogChangNumber})};return Object(n.jsxs)(k.a,{fullScreen:!0,open:a.openDialogChangNumber,onClose:r,TransitionComponent:V,children:[Object(n.jsx)(N.a,{className:e.appBar,children:Object(n.jsxs)(B.a,{children:[Object(n.jsx)(P.a,{variant:"h6",className:e.title,children:"\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c"}),Object(n.jsx)(G.a,{edge:"start",color:"inherit",onClick:r,"aria-label":"close",children:Object(n.jsx)(M.a,{})})]})}),Object(n.jsx)(F.a,{children:Object(n.jsxs)(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:e.layout,style:{paddingTop:20},children:[Object(n.jsx)("label",{htmlFor:"phone",children:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c\u0e17\u0e35\u0e48\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19:"}),Object(n.jsx)(v,{type:"tel",id:"phone",name:"phone",pattern:"[0-9]{3} [0-9]{2} [0-9]{3} [0-9]{4}",placeholder:"+66 80 123 1234",defaultValue:c.numberPhone,onChange:function(e){t({type:"USER_NUMBER_PHONE",payload:e.target.value})},style:{color:"#5b82db"}}),Object(n.jsx)(R.a,{variant:"contained",style:{fontSize:"1em",backgroundColor:"#00b900",color:"#fff",fontWeight:"bold",width:250},onClick:r,children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"})]})})]})}var K=a(206),J=a(203),X=Object(p.a)((function(e){return{avatars:{width:e.spacing(10),height:e.spacing(10)},appBar:{top:"auto",bottom:0,backgroundColor:"white",padding:15},layout:{padding:"10px 0px"},app:{height:450}}}));function Q(e){return Object(n.jsx)(z.a,Object(D.a)(Object(D.a)({},e),{},{direction:"down"}))}function Z(e){return Object(n.jsx)(J.a,Object(D.a)({elevation:6,variant:"filled"},e))}var q=function(){var e=Object(u.b)(),t=X(),a=f.a.parse(window.location.search),c=Object(u.c)((function(e){return e.user})),o=Object(u.c)((function(e){return e.control})),i=I.collection("line_apps");function s(){return(s=Object(E.a)(_.a.mark((function t(){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.doc(a.liff_id).collection("users").doc(c.userId).update({userId:c.userId,displayName:c.displayName,pictureUrl:c.pictureUrl,numberPhone:c.numberPhone}).then((function(){e({type:"AUTH_STATUS",payload:!0}),e({type:"CONTROL_OPEN_SNACKBARK_UPDATE_NUMBER_PHONE_SECCUSS",payload:!o.openSnackbarUpdateNumberSeccuss})}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(){e({type:"CONTROL_OPEN_SNACKBARK_UPDATE_NUMBER_PHONE_SECCUSS",payload:!o.openSnackbarUpdateNumberSeccuss})}return r.a.useEffect((function(){e({type:"AUTH_FIST_PATH",payload:window.location.pathname}),e({type:"AUTH_LIFF_ID",payload:a.liff_id})}),[window.location.pathname]),Object(n.jsxs)("div",{children:[Object(n.jsx)(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:t.app,children:Object(n.jsx)(A.a,{item:!0,xs:12,children:Object(n.jsxs)(A.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(n.jsxs)(A.a,{item:!0,xs:12,children:[Object(n.jsx)(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:t.layout,style:{paddingTop:20},children:Object(n.jsx)(S.a,{alt:c.displayName,src:c.pictureUrl,className:t.avatars})}),Object(n.jsx)(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:t.layout,children:Object(n.jsx)(P.a,{variant:"h6",component:"h6",children:c.displayName})}),Object(n.jsxs)(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:t.layout,style:{paddingTop:20},children:[Object(n.jsx)("label",{htmlFor:"phone",children:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c\u0e17\u0e35\u0e48\u0e25\u0e07\u0e17\u0e30\u0e40\u0e1a\u0e35\u0e22\u0e19:"}),Object(n.jsx)(v,{type:"tel",id:"phone",name:"phone",pattern:"[0-9]{3} [0-9]{2} [0-9]{3} [0-9]{4}",placeholder:"+66 80 123 1234",value:c.numberPhone,onClick:function(){e({type:"CONTROL_OPEN_DIALOG_CHANG_NUMBER_PHONE",payload:!o.openDialogChangNumber})}})]})]}),Object(n.jsx)(A.a,{item:!0,xs:12})]})})}),Object(n.jsx)(N.a,{position:"fixed",color:"primary",className:t.appBar,children:Object(n.jsx)(R.a,{variant:"contained",style:{fontSize:"1em",backgroundColor:"#00b900",color:"#fff",fontWeight:"bold"},onClick:function(){return s.apply(this,arguments)},children:"\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c"})}),Object(n.jsx)(Y,{}),Object(n.jsx)(K.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:o.openSnackbarUpdateNumberSeccuss,onClose:d,style:{backgroundColor:"white"},ContentProps:{style:{backgroundColor:"white",boxShadow:"0px 3px 5px -1px rgb(0 0 0 / 0%), 0px 6px 10px 0px rgb(0 0 0 / 0%), 0px 1px 18px 0px rgb(0 0 0 / 0%)"}},TransitionComponent:Q,autoHideDuration:6e3,message:Object(n.jsx)(Z,{onClose:d,severity:"success",children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c ".concat(c.numberPhone)})},"topcenter")]})};var $=function(){var e=r.a.useState(!0),t=Object(s.a)(e,2),a=(t[0],t[1]),c=Object(h.g)(),o=Object(u.c)((function(e){return e.auth})),i=f.a.parse(window.location.search),d=Object(u.b)();return console.log(i["liff.state"]),console.log(o),console.log(c),console.log(d),r.a.useEffect((function(){var e=I.collection("line_apps");sessionStorage.getItem("liff_id")?l.a.init({liffId:"".concat(sessionStorage.getItem("liff_id"))}).then(Object(E.a)(_.a.mark((function t(){var n,c;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!l.a.isLoggedIn()){t.next=23;break}return t.next=3,l.a.getProfile();case 3:return n=t.sent,console.log(n),t.next=7,e.doc(sessionStorage.getItem("liff_id")).collection("users").doc(n.userId).get();case 7:if((c=t.sent).exists){t.next=18;break}return console.log("No such document!"),d({type:"AUTH_STATUS",payload:!1}),d({type:"USER_DISPLAY_NAME",payload:n.displayName}),d({type:"USER_ID",payload:n.userId}),d({type:"USER_PICTURE_URL",payload:n.pictureUrl}),t.next=16,e.doc(sessionStorage.getItem("liff_id")).collection("users").doc(n.userId).set(Object(D.a)({},n));case 16:t.next=21;break;case 18:console.log("Document data:",c.data()),console.log("getProfile line:",n),c.data().numberPhone?(d({type:"AUTH_STATUS",payload:!0}),d({type:"USER_DISPLAY_NAME",payload:c.data().displayName}),d({type:"USER_ID",payload:c.data().userId}),d({type:"USER_PICTURE_URL",payload:c.data().pictureUrl}),d({type:"USER_NUMBER_PHONE",payload:c.data().numberPhone}),a(!1)):(d({type:"AUTH_STATUS",payload:!1}),d({type:"USER_DISPLAY_NAME",payload:c.data().displayName}),d({type:"USER_ID",payload:c.data().userId}),d({type:"USER_PICTURE_URL",payload:c.data().pictureUrl}),a(!1));case 21:t.next=26;break;case 23:d({type:"AUTH_FIST_PATH",payload:window.location.pathname}),l.a.login(),console.log("a");case 26:case"end":return t.stop()}}),t)})))).catch((function(e){throw e})):(console.log("b"),d({type:"AUTH_LIFF_ID",payload:i.liff_id}))}),[]),Object(n.jsx)(r.a.Fragment,{})},ee=a(196),te=a(189),ae=a(190),ne=a(191),ce=Object(p.a)((function(e){return{appBar:{position:"relative",backgroundColor:"#7d8690"},appBarBottom:{top:"auto",bottom:0,backgroundColor:"white",padding:15},title:{flex:1}}})),re=r.a.forwardRef((function(e,t){return Object(n.jsx)(z.a,Object(D.a)({direction:"up",ref:t},e))}));function oe(){var e=ce(),t=Object(u.b)(),a=Object(u.c)((function(e){return e.control})),c=Object(u.c)((function(e){return e.address})),o=Object(u.c)((function(e){return e.user})),i=I.collection("line_apps"),s=(f.a.parse(window.location.search),function(){t({type:"CONTROL_OPEN_DIALOG_ADD_ADDRESS",payload:!a.openDialogAddAddress})}),d=function(e){return function(a){switch(e){case"name":t({type:"ADDRESS_ADD_NAME",payload:a.target.value});break;case"numberPhone":t({type:"ADDRESS_ADD_NUMBER_PHONE",payload:a.target.value});break;case"address":t({type:"ADDRESS_ADD_ADDRESS",payload:a.target.value})}}};function l(){return(l=Object(E.a)(_.a.mark((function e(){var n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.storage,r=i.doc(sessionStorage.getItem("liff_id")).collection("users").doc(o.userId).collection("address").doc(),e.next=4,r.set({id:r.id,name:c.addName,numberPhone:c.addNumbeerPhone,address:c.addAddress}).then((function(){n.push({id:r.id,name:c.addName,numberPhone:c.addNumbeerPhone,address:c.addAddress}),t({type:"ADDRESS_STORAGE",payload:n}),t({type:"CONTROL_OPEN_DIALOG_ADD_ADDRESS",payload:!a.openDialogAddAddress})}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsxs)(k.a,{fullScreen:!0,open:a.openDialogAddAddress,onClose:s,TransitionComponent:re,children:[Object(n.jsx)(N.a,{className:e.appBar,children:Object(n.jsxs)(B.a,{children:[Object(n.jsx)(P.a,{variant:"h6",className:e.title,children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"}),Object(n.jsx)(G.a,{edge:"start",color:"inherit",onClick:s,"aria-label":"close",children:Object(n.jsx)(M.a,{})})]})}),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(te.a,{button:!0,children:Object(n.jsx)(ae.a,{primary:Object(n.jsx)(P.a,{component:"span",variant:"body2",color:"textPrimary",children:"\u0e1c\u0e39\u0e49\u0e23\u0e31\u0e1a"}),secondary:Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(U.a,{placeholder:"\u0e42\u0e1b\u0e23\u0e14\u0e01\u0e23\u0e2d\u0e01\u0e0a\u0e37\u0e48\u0e2d\u0e1c\u0e39\u0e49\u0e23\u0e31\u0e1a",style:{width:"100%"},onChange:d("name")})})})}),Object(n.jsx)(ne.a,{})]}),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(te.a,{button:!0,children:Object(n.jsx)(ae.a,{primary:Object(n.jsx)(P.a,{component:"span",variant:"body2",color:"textPrimary",children:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c\u0e21\u0e37\u0e2d\u0e16\u0e37\u0e2d"}),secondary:Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(U.a,{placeholder:"\u0e42\u0e1b\u0e23\u0e14\u0e01\u0e23\u0e2d\u0e01\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c\u0e21\u0e37\u0e2d\u0e16\u0e37\u0e2d\u0e1c\u0e39\u0e49\u0e23\u0e31\u0e1a",style:{width:"100%"},onChange:d("numberPhone")})})})}),Object(n.jsx)(ne.a,{})]}),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(te.a,{button:!0,children:Object(n.jsx)(ae.a,{primary:Object(n.jsx)(P.a,{component:"span",variant:"body2",color:"textPrimary",children:"\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"}),secondary:Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(U.a,{rows:4,multiline:!0,placeholder:"\u0e42\u0e1b\u0e23\u0e14\u0e01\u0e23\u0e2d\u0e01\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48 \u0e40\u0e0a\u0e48\u0e19\u0e1a\u0e49\u0e32\u0e19\u0e40\u0e25\u0e02\u0e17\u0e35\u0e48 \u0e2b\u0e21\u0e39\u0e48\u0e1a\u0e49\u0e32\u0e19 \u0e16\u0e19\u0e19 \u0e40\u0e02\u0e15 \u0e15\u0e33\u0e1a\u0e25 \u0e2d\u0e33\u0e40\u0e20\u0e2d \u0e08\u0e31\u0e07\u0e2b\u0e27\u0e31\u0e14 \u0e23\u0e2b\u0e31\u0e2a\u0e44\u0e1b\u0e23\u0e29\u0e13\u0e35\u0e22\u0e4c ",style:{width:"100%"},onChange:d("address")})})})}),Object(n.jsx)(ne.a,{})]}),Object(n.jsx)(N.a,{position:"fixed",color:"primary",className:e.appBarBottom,children:Object(n.jsx)(R.a,{variant:"contained",style:{fontSize:"1em",backgroundColor:"#00b900",color:"#fff",fontWeight:"bold"},onClick:function(){return l.apply(this,arguments)},children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"})})]})}var ie=a(195),se=a(193),de=a(194),le=a(192);function pe(){var e=Object(u.c)((function(e){return e.address})),t=Object(u.c)((function(e){return e.control})),a=Object(u.c)((function(e){return e.user})),c=Object(u.b)(),o=I.collection("line_apps"),i=function(){c({type:"CONTROL_OPEN_DIALOG_DELETE_ADDRESS",payload:!t.openDialogDeleteAddress})};function s(){return(s=Object(E.a)(_.a.mark((function n(){var r;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=o.doc(sessionStorage.getItem("liff_id")).collection("users").doc(a.userId).collection("address").doc(e.updateId),n.next=3,r.delete();case 3:delete e.storage[e.updateNumber],c({type:"ADDRESS_STORAGE",payload:e.storage}),c({type:"CONTROL_OPEN_DIALOG_UPDATE_ADDRESS",payload:!t.openDialogUpdateAddress}),c({type:"CONTROL_OPEN_DIALOG_DELETE_ADDRESS",payload:!t.openDialogDeleteAddress});case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(n.jsx)("div",{children:Object(n.jsxs)(k.a,{open:t.openDialogDeleteAddress,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(le.a,{id:"alert-dialog-title",children:"\u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e08\u0e30\u0e25\u0e1a\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07\u0e19\u0e35\u0e49!"}),Object(n.jsx)(se.a,{children:Object(n.jsx)(de.a,{id:"alert-dialog-description",children:Object(n.jsx)(te.a,{children:Object(n.jsx)(ae.a,{primary:e.updateName,secondary:Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(P.a,{component:"span",variant:"body2",color:"textPrimary",children:e.updateNumberPhone})," \u2014 "+e.updateAddress]})})})})}),Object(n.jsxs)(ie.a,{children:[Object(n.jsx)(R.a,{onClick:i,color:"primary",children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),Object(n.jsx)(R.a,{onClick:function(){return s.apply(this,arguments)},color:"primary",autoFocus:!0,children:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19"})]})]})})}var je=Object(p.a)((function(e){return{appBar:{position:"relative",backgroundColor:"#7d8690"},appBarBottom:{top:"auto",bottom:0,backgroundColor:"white",padding:15},title:{flex:1}}})),ue=r.a.forwardRef((function(e,t){return Object(n.jsx)(z.a,Object(D.a)({direction:"up",ref:t},e))}));function be(){var e=je(),t=Object(u.b)(),a=Object(u.c)((function(e){return e.control})),c=Object(u.c)((function(e){return e.address})),o=Object(u.c)((function(e){return e.user})),i=I.collection("line_apps"),s=function(){t({type:"CONTROL_OPEN_DIALOG_UPDATE_ADDRESS",payload:!a.openDialogUpdateAddress})},d=function(e){return function(a){switch(e){case"name":t({type:"ADDRESS_UPDATE_NAME",payload:a.target.value});break;case"numberPhone":t({type:"ADDRESS_UPDATE_NUMBER_PHONE",payload:a.target.value});break;case"address":t({type:"ADDRESS_UPDATE_ADDRESS",payload:a.target.value})}}};function l(){return(l=Object(E.a)(_.a.mark((function e(){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.doc(sessionStorage.getItem("liff_id")).collection("users").doc(o.userId).collection("address").doc(c.updateId),e.next=3,n.set({id:c.updateId,name:c.updateName,numberPhone:c.updateNumberPhone,address:c.updateAddress}).then((function(){c.storage[c.updateNumber].name=c.updateName,c.storage[c.updateNumber].numberPhone=c.updateNumberPhone,c.storage[c.updateNumber].address=c.updateAddress,t({type:"ADDRESS_STORAGE",payload:c.storage}),t({type:"CONTROL_OPEN_DIALOG_UPDATE_ADDRESS",payload:!a.openDialogUpdateAddress})}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsxs)(k.a,{fullScreen:!0,open:a.openDialogUpdateAddress,onClose:s,TransitionComponent:ue,children:[Object(n.jsx)(N.a,{className:e.appBar,children:Object(n.jsxs)(B.a,{children:[Object(n.jsx)(P.a,{variant:"h6",className:e.title,children:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"}),Object(n.jsx)(G.a,{edge:"start",color:"inherit",onClick:s,"aria-label":"close",children:Object(n.jsx)(M.a,{})})]})}),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(te.a,{button:!0,children:Object(n.jsx)(ae.a,{primary:Object(n.jsx)(P.a,{component:"span",variant:"body2",color:"textPrimary",children:"\u0e1c\u0e39\u0e49\u0e23\u0e31\u0e1a"}),secondary:Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(U.a,{defaultValue:c.updateName,placeholder:"\u0e42\u0e1b\u0e23\u0e14\u0e01\u0e23\u0e2d\u0e01\u0e0a\u0e37\u0e48\u0e2d\u0e1c\u0e39\u0e49\u0e23\u0e31\u0e1a",style:{width:"100%"},onChange:d("name")})})})}),Object(n.jsx)(ne.a,{})]}),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(te.a,{button:!0,children:Object(n.jsx)(ae.a,{primary:Object(n.jsx)(P.a,{component:"span",variant:"body2",color:"textPrimary",children:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c\u0e21\u0e37\u0e2d\u0e16\u0e37\u0e2d"}),secondary:Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(U.a,{defaultValue:c.updateNumberPhone,placeholder:"\u0e42\u0e1b\u0e23\u0e14\u0e01\u0e23\u0e2d\u0e01\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c\u0e21\u0e37\u0e2d\u0e16\u0e37\u0e2d\u0e1c\u0e39\u0e49\u0e23\u0e31\u0e1a",style:{width:"100%"},onChange:d("numberPhone")})})})}),Object(n.jsx)(ne.a,{})]}),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(te.a,{button:!0,children:Object(n.jsx)(ae.a,{primary:Object(n.jsx)(P.a,{component:"span",variant:"body2",color:"textPrimary",children:"\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"}),secondary:Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(U.a,{rows:4,defaultValue:c.updateAddress,multiline:!0,placeholder:"\u0e42\u0e1b\u0e23\u0e14\u0e01\u0e23\u0e2d\u0e01\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48 \u0e40\u0e0a\u0e48\u0e19\u0e1a\u0e49\u0e32\u0e19\u0e40\u0e25\u0e02\u0e17\u0e35\u0e48 \u0e2b\u0e21\u0e39\u0e48\u0e1a\u0e49\u0e32\u0e19 \u0e16\u0e19\u0e19 \u0e40\u0e02\u0e15 \u0e15\u0e33\u0e1a\u0e25 \u0e2d\u0e33\u0e40\u0e20\u0e2d \u0e08\u0e31\u0e07\u0e2b\u0e27\u0e31\u0e14 \u0e23\u0e2b\u0e31\u0e2a\u0e44\u0e1b\u0e23\u0e29\u0e13\u0e35\u0e22\u0e4c ",style:{width:"100%"},onChange:d("address")})})})}),Object(n.jsx)(ne.a,{})]}),Object(n.jsx)(N.a,{position:"fixed",color:"primary",className:e.appBarBottom,children:Object(n.jsxs)(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2,children:[Object(n.jsx)(A.a,{item:!0,xs:8,children:Object(n.jsx)(R.a,{variant:"contained",style:{fontSize:"1em",backgroundColor:"#00b900",color:"#fff",fontWeight:"bold",width:"100%"},onClick:function(){return l.apply(this,arguments)},children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"})}),Object(n.jsx)(A.a,{item:!0,xs:4,children:Object(n.jsx)(R.a,{variant:"contained",style:{fontSize:"1em",backgroundColor:"#f44336",color:"#fff",fontWeight:"bold",width:"100%"},onClick:function(){t({type:"CONTROL_OPEN_DIALOG_DELETE_ADDRESS",payload:!a.openDialogDeleteAddress})},children:"\u0e25\u0e1a"})})]})}),Object(n.jsx)(pe,{})]})}var Oe=Object(p.a)((function(e){return{avatars:{width:e.spacing(10),height:e.spacing(10)},appBar:{top:"auto",bottom:0,backgroundColor:"white",padding:15},layout:{padding:"10px 0px"},app:{height:450}}}));var he=function(){var e=Object(u.b)(),t=Oe(),a=(f.a.parse(window.location.search),Object(u.c)((function(e){return e.user}))),c=Object(u.c)((function(e){return e.address})),o=Object(u.c)((function(e){return e.control})),i=I.collection("line_apps");return r.a.useEffect((function(){var t=[];i.doc(sessionStorage.getItem("liff_id")).collection("users").doc(a.userId).collection("address").get().then((function(a){a.docs.forEach((function(e){t.push(e.data())})),e({type:"ADDRESS_STORAGE",payload:t}),e({type:"AUTH_FIST_PATH",payload:sessionStorage.getItem("fist_path")}),e({type:"AUTH_LIFF_ID",payload:sessionStorage.getItem("liff_id")})}))}),[]),Object(n.jsxs)("div",{style:{paddingBottom:70},children:[Object(n.jsx)(F.a,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:Object(n.jsx)(ee.a,{component:"div",id:"nested-list-subheader",style:{backgroundColor:"white"},children:"\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"}),className:t.root,children:c.storage.map((function(a,c){return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(ne.a,{}),Object(n.jsx)(te.a,{button:!0,onClick:(i=a,s=c,function(t){console.log(i,s),e({type:"ADDRESS_UPDATE_NUMBER",payload:s}),e({type:"ADDRESS_UPDATE_ID",payload:i.id}),e({type:"ADDRESS_UPDATE_NAME",payload:i.name}),e({type:"ADDRESS_UPDATE_NUMBER_PHONE",payload:i.numberPhone}),e({type:"ADDRESS_UPDATE_ADDRESS",payload:i.address}),e({type:"CONTROL_OPEN_DIALOG_UPDATE_ADDRESS",payload:!o.openDialogUpdateAddress})}),children:Object(n.jsx)(ae.a,{primary:a.name,secondary:Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(P.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary",children:a.numberPhone})," \u2014 "+a.address]})})})]},c);var i,s}))}),Object(n.jsx)(N.a,{position:"fixed",color:"primary",className:t.appBar,children:Object(n.jsx)(R.a,{variant:"contained",style:{fontSize:"1em",backgroundColor:"#00b900",color:"#fff",fontWeight:"bold"},onClick:function(){e({type:"CONTROL_OPEN_DIALOG_ADD_ADDRESS",payload:!o.openDialogAddAddress})},children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"})}),Object(n.jsx)(oe,{}),Object(n.jsx)(be,{})]})},ye=a(64),me=a.n(ye),fe=Object(p.a)((function(e){return{appBar:{position:"relative",backgroundColor:"#7d8690"},appBarBottom:{top:"auto",bottom:0,backgroundColor:"white",padding:15},title:{flex:1},input:{display:"none"}}})),ge=r.a.forwardRef((function(e,t){return Object(n.jsx)(z.a,Object(D.a)({direction:"up",ref:t},e))}));function xe(){var e=fe(),t=Object(u.b)(),a=Object(u.c)((function(e){return e.control})),c=Object(u.c)((function(e){return e.product})),o=Object(u.c)((function(e){return e.user})),i=I.collection("line_apps"),s=(f.a.parse(window.location.search),function(){t({type:"CONTROL_OPEN_DIALOG_ADD_PRODUCT",payload:!a.openDialogAddProduct})}),d=function(e){return function(a){switch(e){case"name":t({type:"PRODUCT_ADD_NAME",payload:a.target.value});break;case"price":t({type:"PRODUCT_ADD_PRICE",payload:a.target.value});break;case"image":var n,c=new FileReader;c.onloadend=function(){n=c.result,console.log(n),t({type:"PRODUCT_ADD_IMAGE",payload:n})},c.readAsDataURL(a.target.files[0]);break;case"productId":t({type:"PRODUCT_ADD_PRUDUCT_ID",payload:a.target.value})}}};function l(){return(l=Object(E.a)(_.a.mark((function e(){var n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.storage,r=i.doc(sessionStorage.getItem("liff_id")).collection("users").doc(o.userId).collection("products").doc(),e.next=4,r.set({id:r.id,name:c.addName,productId:c.addProductId,price:c.addPrice,image:c.addImage}).then((function(){n.push({id:r.id,name:c.addName,productId:c.addProductId,price:c.addPrice,image:c.addImage}),t({type:"PRODUCT_ADD_IMAGE",payload:""}),t({type:"PRODUCT_STORAGE",payload:n}),t({type:"CONTROL_OPEN_DIALOG_ADD_PRODUCT",payload:!a.openDialogAddProduct})}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsxs)(k.a,{fullScreen:!0,open:a.openDialogAddProduct,onClose:s,TransitionComponent:ge,children:[Object(n.jsx)(N.a,{className:e.appBar,children:Object(n.jsxs)(B.a,{children:[Object(n.jsx)(P.a,{variant:"h6",className:e.title,children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),Object(n.jsx)(G.a,{edge:"start",color:"inherit",onClick:s,"aria-label":"close",children:Object(n.jsx)(M.a,{})})]})}),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(te.a,{button:!0,children:Object(n.jsx)(ae.a,{primary:Object(n.jsx)(P.a,{component:"span",variant:"body2",color:"textPrimary",children:"\u0e23\u0e2b\u0e31\u0e2a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),secondary:Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(U.a,{placeholder:"\u0e42\u0e1b\u0e23\u0e14\u0e01\u0e23\u0e2d\u0e01\u0e23\u0e2b\u0e31\u0e2a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",style:{width:"100%"},onChange:d("productId")})})})}),Object(n.jsx)(ne.a,{})]}),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(te.a,{button:!0,children:Object(n.jsx)(ae.a,{primary:Object(n.jsx)(P.a,{component:"span",variant:"body2",color:"textPrimary",children:"\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),secondary:Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(U.a,{placeholder:"\u0e42\u0e1b\u0e23\u0e14\u0e01\u0e23\u0e2d\u0e01\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",style:{width:"100%"},onChange:d("name")})})})}),Object(n.jsx)(ne.a,{})]}),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(te.a,{button:!0,children:Object(n.jsx)(ae.a,{primary:Object(n.jsx)(P.a,{component:"span",variant:"body2",color:"textPrimary",children:"\u0e23\u0e32\u0e04\u0e32\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),secondary:Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(U.a,{placeholder:"\u0e42\u0e1b\u0e23\u0e14\u0e01\u0e23\u0e2d\u0e01\u0e23\u0e32\u0e04\u0e32\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",style:{width:"100%"},onChange:d("price")})})})}),Object(n.jsx)(ne.a,{})]}),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(te.a,{button:!0,children:Object(n.jsx)(ae.a,{primary:Object(n.jsx)(P.a,{component:"span",variant:"body2",color:"textPrimary",children:"\u0e23\u0e39\u0e1b\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),secondary:Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)("input",{accept:"image/*",className:e.input,id:"icon-button-file",type:"file",onChange:d("image")}),Object(n.jsx)("label",{htmlFor:"icon-button-file",children:Object(n.jsx)(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(n.jsx)(S.a,{variant:"rounded",alt:"+",style:{width:150,height:150},children:c.addImage?Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(S.a,{variant:"rounded",alt:"+",src:c.addImage,style:{width:150,height:150}})}):Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(me.a,{style:{fontSize:80}})})})})})]})})}),Object(n.jsx)(ne.a,{})]}),Object(n.jsx)(N.a,{position:"fixed",color:"primary",className:e.appBarBottom,children:Object(n.jsx)(R.a,{variant:"contained",style:{fontSize:"1em",backgroundColor:"#00b900",color:"#fff",fontWeight:"bold"},onClick:function(){return l.apply(this,arguments)},children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"})})]})}var _e=a(197);function De(){var e=Object(u.c)((function(e){return e.product})),t=Object(u.c)((function(e){return e.control})),a=Object(u.c)((function(e){return e.user})),c=Object(u.b)(),o=I.collection("line_apps"),i=function(){c({type:"CONTROL_OPEN_DIALOG_DELETE_PRODUCT",payload:!t.openDialogDeleteProduct})};function s(){return(s=Object(E.a)(_.a.mark((function n(){var r;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=o.doc(sessionStorage.getItem("liff_id")).collection("users").doc(a.userId).collection("products").doc(e.updateId),n.next=3,r.delete();case 3:delete e.storage[e.updateNumber],c({type:"PRODUCT_STORAGE",payload:e.storage}),c({type:"CONTROL_OPEN_DIALOG_UPDATE_PRODUCT",payload:!t.openDialogUpdateProduct}),c({type:"CONTROL_OPEN_DIALOG_DELETE_PRODUCT",payload:!t.openDialogDeleteProduct});case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(n.jsx)("div",{children:Object(n.jsxs)(k.a,{open:t.openDialogDeleteProduct,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(le.a,{id:"alert-dialog-title",children:"\u0e04\u0e38\u0e13\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e08\u0e30\u0e25\u0e1a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e19\u0e35\u0e49!"}),Object(n.jsx)(se.a,{children:Object(n.jsx)(de.a,{id:"alert-dialog-description",children:Object(n.jsxs)(te.a,{alignItems:"flex-start",children:[Object(n.jsx)(_e.a,{children:Object(n.jsx)(S.a,{variant:"rounded",alt:"Remy Sharp",src:e.updateImage,style:{width:65,height:65}})}),Object(n.jsx)(te.a,{children:Object(n.jsx)(ae.a,{primary:e.updateProductId,secondary:Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(P.a,{component:"span",variant:"body2",color:"textPrimary",children:e.updateName})," \u2014 "+e.updatePrice]})})})]})})}),Object(n.jsxs)(ie.a,{children:[Object(n.jsx)(R.a,{onClick:i,color:"primary",children:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01"}),Object(n.jsx)(R.a,{onClick:function(){return s.apply(this,arguments)},color:"primary",autoFocus:!0,children:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19"})]})]})})}var Ee=Object(p.a)((function(e){return{appBar:{position:"relative",backgroundColor:"#7d8690"},appBarBottom:{top:"auto",bottom:0,backgroundColor:"white",padding:15},title:{flex:1},input:{display:"none"}}})),Ae=r.a.forwardRef((function(e,t){return Object(n.jsx)(z.a,Object(D.a)({direction:"up",ref:t},e))}));function Se(){var e=Ee(),t=Object(u.b)(),a=Object(u.c)((function(e){return e.control})),c=Object(u.c)((function(e){return e.product})),o=Object(u.c)((function(e){return e.user})),i=I.collection("line_apps"),s=function(){t({type:"CONTROL_OPEN_DIALOG_UPDATE_PRODUCT",payload:!a.openDialogUpdateProduct})},d=function(e){return function(a){switch(e){case"name":t({type:"PRODUCT_UPDATE_NAME",payload:a.target.value});break;case"price":t({type:"PRODUCT_UPDATE_PRICE",payload:a.target.value});break;case"image":var n,c=new FileReader;c.onloadend=function(){n=c.result,console.log(n),t({type:"PRODUCT_UPDATE_IMAGE",payload:n})},c.readAsDataURL(a.target.files[0]);break;case"productId":t({type:"PRODUCT_UPDATE_PRUDUCT_ID",payload:a.target.value})}}};function l(){return(l=Object(E.a)(_.a.mark((function e(){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.doc(sessionStorage.getItem("liff_id")).collection("users").doc(o.userId).collection("products").doc(c.updateId),e.next=3,n.set({id:c.updateId,name:c.updateName,productId:c.updateProductId,price:c.updatePrice,image:c.updateImage}).then((function(){c.storage[c.updateNumber].name=c.updateName,c.storage[c.updateNumber].productId=c.updateProductId,c.storage[c.updateNumber].price=c.updatePrice,c.storage[c.updateNumber].image=c.updateImage,t({type:"PRODUCT_STORAGE",payload:c.storage}),t({type:"CONTROL_OPEN_DIALOG_UPDATE_PRODUCT",payload:!a.openDialogUpdateProduct})}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsxs)(k.a,{fullScreen:!0,open:a.openDialogUpdateProduct,onClose:s,TransitionComponent:Ae,children:[Object(n.jsx)(N.a,{className:e.appBar,children:Object(n.jsxs)(B.a,{children:[Object(n.jsx)(P.a,{variant:"h6",className:e.title,children:"\u0e41\u0e01\u0e49\u0e44\u0e02\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),Object(n.jsx)(G.a,{edge:"start",color:"inherit",onClick:s,"aria-label":"close",children:Object(n.jsx)(M.a,{})})]})}),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(te.a,{button:!0,children:Object(n.jsx)(ae.a,{primary:Object(n.jsx)(P.a,{component:"span",variant:"body2",color:"textPrimary",children:"\u0e23\u0e2b\u0e31\u0e2a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),secondary:Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(U.a,{defaultValue:c.updateProductId,placeholder:"\u0e42\u0e1b\u0e23\u0e14\u0e01\u0e23\u0e2d\u0e01\u0e23\u0e2b\u0e31\u0e2a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",style:{width:"100%"},onChange:d("productId")})})})}),Object(n.jsx)(ne.a,{})]}),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(te.a,{button:!0,children:Object(n.jsx)(ae.a,{primary:Object(n.jsx)(P.a,{component:"span",variant:"body2",color:"textPrimary",children:"\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),secondary:Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(U.a,{defaultValue:c.updateName,placeholder:"\u0e42\u0e1b\u0e23\u0e14\u0e01\u0e23\u0e2d\u0e01\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",style:{width:"100%"},onChange:d("name")})})})}),Object(n.jsx)(ne.a,{})]}),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(te.a,{button:!0,children:Object(n.jsx)(ae.a,{primary:Object(n.jsx)(P.a,{component:"span",variant:"body2",color:"textPrimary",children:"\u0e23\u0e32\u0e04\u0e32\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),secondary:Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(U.a,{defaultValue:c.updatePrice,placeholder:"\u0e42\u0e1b\u0e23\u0e14\u0e01\u0e23\u0e2d\u0e01\u0e23\u0e32\u0e04\u0e32\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",style:{width:"100%"},onChange:d("price")})})})}),Object(n.jsx)(ne.a,{})]}),Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(te.a,{button:!0,children:Object(n.jsx)(ae.a,{primary:Object(n.jsx)(P.a,{component:"span",variant:"body2",color:"textPrimary",children:"\u0e23\u0e39\u0e1b\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),secondary:Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)("input",{accept:"image/*",className:e.input,id:"icon-button-file",type:"file",onChange:d("image")}),Object(n.jsx)("label",{htmlFor:"icon-button-file",children:Object(n.jsx)(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(n.jsx)(S.a,{variant:"rounded",alt:"+",style:{width:150,height:150},children:c.updateImage?Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(S.a,{variant:"rounded",alt:"+",src:c.updateImage,style:{width:150,height:150}})}):Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(me.a,{style:{fontSize:80}})})})})})]})})}),Object(n.jsx)(ne.a,{})]}),Object(n.jsx)(N.a,{position:"fixed",color:"primary",className:e.appBarBottom,children:Object(n.jsxs)(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2,children:[Object(n.jsx)(A.a,{item:!0,xs:8,children:Object(n.jsx)(R.a,{variant:"contained",style:{fontSize:"1em",backgroundColor:"#00b900",color:"#fff",fontWeight:"bold",width:"100%"},onClick:function(){return l.apply(this,arguments)},children:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01"})}),Object(n.jsx)(A.a,{item:!0,xs:4,children:Object(n.jsx)(R.a,{variant:"contained",style:{fontSize:"1em",backgroundColor:"#f44336",color:"#fff",fontWeight:"bold",width:"100%"},onClick:function(){t({type:"CONTROL_OPEN_DIALOG_DELETE_PRODUCT",payload:!a.openDialogDeleteProduct})},children:"\u0e25\u0e1a"})})]})}),Object(n.jsx)(De,{})]})}var Pe=Object(p.a)((function(e){return{avatars:{width:e.spacing(10),height:e.spacing(10)},appBar:{top:"auto",bottom:0,backgroundColor:"white",padding:15},layout:{padding:"10px 0px"},app:{height:450}}}));var Ne=function(){var e=Object(u.b)(),t=Pe(),a=Object(u.c)((function(e){return e.user})),c=Object(u.c)((function(e){return e.product})),o=Object(u.c)((function(e){return e.control})),i=I.collection("line_apps");return r.a.useEffect((function(){var t=[];i.doc(sessionStorage.getItem("liff_id")).collection("users").doc(a.userId).collection("products").get().then((function(a){a.docs.forEach((function(e){t.push(e.data())})),e({type:"PRODUCT_STORAGE",payload:t}),e({type:"AUTH_FIST_PATH",payload:sessionStorage.getItem("fist_path")}),e({type:"AUTH_LIFF_ID",payload:sessionStorage.getItem("liff_id")})}))}),[]),Object(n.jsxs)("div",{style:{paddingBottom:70},children:[Object(n.jsx)(F.a,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:Object(n.jsx)(ee.a,{component:"div",id:"nested-list-subheader",style:{backgroundColor:"white"},children:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),className:t.root,children:c.storage.map((function(a,c){return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsxs)(te.a,{alignItems:"flex-start",children:[Object(n.jsx)(ne.a,{}),Object(n.jsx)(_e.a,{children:Object(n.jsx)(S.a,{variant:"rounded",alt:"Remy Sharp",src:a.image,style:{width:65,height:65}})}),Object(n.jsx)(te.a,{button:!0,onClick:(i=a,s=c,function(t){console.log(i,s),e({type:"PRODUCT_UPDATE_NUMBER",payload:s}),e({type:"PRODUCT_UPDATE_ID",payload:i.id}),e({type:"PRODUCT_UPDATE_NAME",payload:i.name}),e({type:"PRODUCT_UPDATE_PRUDUCT_ID",payload:i.productId}),e({type:"PRODUCT_UPDATE_PRICE",payload:i.price}),e({type:"PRODUCT_UPDATE_IMAGE",payload:i.image}),e({type:"CONTROL_OPEN_DIALOG_UPDATE_PRODUCT",payload:!o.openDialogUpdateProduct})}),children:Object(n.jsx)(ae.a,{primary:a.productId,secondary:Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(P.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary",children:a.name})," \u2014 "+a.price]})})})]}),Object(n.jsx)(ne.a,{variant:"inset",component:"li"})]},c);var i,s}))}),Object(n.jsx)(N.a,{position:"fixed",color:"primary",className:t.appBar,children:Object(n.jsx)(R.a,{variant:"contained",style:{fontSize:"1em",backgroundColor:"#00b900",color:"#fff",fontWeight:"bold"},onClick:function(){e({type:"CONTROL_OPEN_DIALOG_ADD_PRODUCT",payload:!o.openDialogAddProduct})},children:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"})}),Object(n.jsx)(xe,{}),Object(n.jsx)(Se,{})]})},Re=a(199),Te=a(200),Ie=a(201),Ce=a(198),Ue=a(110),ve=a.n(Ue),we=a(97),Le=a.n(we),ke=Object(p.a)((function(e){return{appBar:{position:"relative",backgroundColor:"#7d8690"},appBarBottom:{top:"auto",bottom:0,backgroundColor:"white",padding:15},title:{flex:1},input:{display:"none"}}})),Fe=r.a.forwardRef((function(e,t){return Object(n.jsx)(z.a,Object(D.a)({direction:"up",ref:t},e))}));function Be(){var e=ke(),t=Object(u.b)(),a=Object(u.c)((function(e){return e.control})),c=Object(u.c)((function(e){return e.order})),o=function(){t({type:"CONTROL_OPEN_DIALOG_LIST_ORDER",payload:!a.openDialogListOrder})},i=function(e,a){return function(n){console.log(e,a),delete c.storage[a],t({type:"ORDER_STORAGE",payload:c.storage}),t({type:"ORDER_LENGTH",payload:c.storage.length}),console.log(c.length)}};return Object(n.jsxs)(k.a,{fullScreen:!0,open:a.openDialogListOrder,onClose:o,TransitionComponent:Fe,children:[Object(n.jsx)(N.a,{className:e.appBar,children:Object(n.jsxs)(B.a,{children:[Object(n.jsx)(P.a,{variant:"h6",className:e.title,children:"\u0e15\u0e23\u0e30\u0e01\u0e23\u0e49\u0e32"}),Object(n.jsx)(G.a,{edge:"start",color:"inherit",onClick:o,"aria-label":"close",children:Object(n.jsx)(M.a,{})})]})}),c.storage.map((function(t,a){return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsxs)(te.a,{alignItems:"flex-start",children:[Object(n.jsx)(ne.a,{}),Object(n.jsx)(_e.a,{children:Object(n.jsx)(S.a,{variant:"rounded",alt:"Remy Sharp",src:t.image,style:{width:65,height:65}})}),Object(n.jsx)(te.a,{button:!0,children:Object(n.jsx)(ae.a,{primary:t.productId,secondary:Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(P.a,{component:"span",variant:"body2",className:e.inline,color:"textPrimary",children:t.name})," \u2014 "+t.price]})})}),Object(n.jsx)(G.a,{"aria-label":"delete",onClick:i(t,a),children:Object(n.jsx)(Le.a,{})})]}),Object(n.jsx)(ne.a,{variant:"inset",component:"li"})]},a)}))]})}var Ge=Object(p.a)((function(e){return{appBar:{position:"relative",backgroundColor:"#7d8690"},appBarBottom:{top:"auto",bottom:0,backgroundColor:"white",padding:15},title:{flex:1},input:{display:"none"}}})),He=r.a.forwardRef((function(e,t){return Object(n.jsx)(z.a,Object(D.a)({direction:"up",ref:t},e))}));var Me=function(){var e=Object(u.c)((function(e){return e.order})),t=Object(u.c)((function(e){return e.control})),a=Object(u.c)((function(e){return e.user})),c=Ge(),o=Object(u.b)(),i=I.collection("line_apps"),s=function(){o({type:"CONTROL_OPEN_DIALOG_SUM_ORDER",payload:!t.openDialogSumOrder})};function d(){return(d=Object(E.a)(_.a.mark((function n(){var c;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=i.doc(sessionStorage.getItem("liff_id")).collection("orders").doc(),n.next=3,c.set({id:c.id,product:e.storage,user:a,address:e.address}).then((function(){o({type:"CONTROL_OPEN_DIALOG_SUM_ORDER",payload:!t.openDialogSumOrder}),o({type:"ORDER_ADDRESS",payload:null}),o({type:"ORDER_STORAGE",payload:[]})}));case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return r.a.useEffect((function(){console.log(e.storage.length)})),Object(n.jsxs)(k.a,{fullScreen:!0,open:t.openDialogSumOrder,onClose:s,TransitionComponent:He,children:[Object(n.jsx)(N.a,{position:"fixed",className:c.appBar,children:Object(n.jsxs)(B.a,{children:[Object(n.jsx)(P.a,{variant:"h6",className:c.title,children:"\u0e2a\u0e23\u0e38\u0e1b\u0e22\u0e2d\u0e14\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),Object(n.jsx)(G.a,{edge:"start",color:"inherit",onClick:s,"aria-label":"close",children:Object(n.jsx)(M.a,{})})]})}),Object(n.jsxs)("div",{style:{paddingBottom:150},children:[e.storage.map((function(e,t){return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsxs)(te.a,{alignItems:"flex-start",children:[Object(n.jsx)(ne.a,{}),Object(n.jsx)(te.a,{children:Object(n.jsx)(ae.a,{primary:t+1})}),Object(n.jsx)(te.a,{children:Object(n.jsx)(ae.a,{primary:e.name})}),Object(n.jsx)(te.a,{children:Object(n.jsx)(ae.a,{primary:e.price+" \u0e1a\u0e32\u0e17"})})]}),Object(n.jsx)(ne.a,{})]},t)})),Object(n.jsxs)(te.a,{alignItems:"flex-start",children:[Object(n.jsx)(te.a,{children:Object(n.jsx)(ae.a,{primary:"\u0e23\u0e27\u0e21"})}),Object(n.jsx)(te.a,{children:Object(n.jsx)(ae.a,{primary:0===e.storage.length?0:e.storage.map((function(e){return parseInt(e.price)})).reduce((function(e,t){return e+t}))+" \u0e1a\u0e32\u0e17"})})]}),Object(n.jsx)(ne.a,{}),Object(n.jsx)(F.a,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:Object(n.jsx)(ee.a,{component:"div",id:"nested-list-subheader",style:{backgroundColor:"white"},children:"\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"}),className:c.root,children:e.address?Object(n.jsx)(te.a,{button:!0,children:Object(n.jsx)(ae.a,{primary:e.address.name,secondary:Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(P.a,{component:"span",variant:"body2",className:c.inline,color:"textPrimary",children:e.address.numberPhone})," \u2014 "+e.address.address]})})}):Object(n.jsx)(r.a.Fragment,{})})]}),Object(n.jsx)(N.a,{position:"fixed",color:"primary",className:c.appBarBottom,children:Object(n.jsx)(R.a,{variant:"contained",style:{fontSize:"1em",backgroundColor:"#00b900",color:"#fff",fontWeight:"bold"},onClick:function(){return d.apply(this,arguments)},children:"\u0e2a\u0e31\u0e48\u0e07\u0e40\u0e25\u0e22"})})]})},ze=Object(p.a)((function(e){return{appBar:{position:"relative",backgroundColor:"#7d8690"},appBarBottom:{top:"auto",bottom:0,backgroundColor:"white",padding:15},title:{flex:1}}})),We=r.a.forwardRef((function(e,t){return Object(n.jsx)(z.a,Object(D.a)({direction:"up",ref:t},e))}));function Ve(){var e=ze(),t=Object(u.b)(),a=Object(u.c)((function(e){return e.control})),c=Object(u.c)((function(e){return e.address})),o=Object(u.c)((function(e){return e.user})),i=r.a.useState(1),d=Object(s.a)(i,2),l=d[0],p=d[1],j=I.collection("line_apps"),b=function(){t({type:"CONTROL_OPEN_DIALOG_SELECT_ADDRESS",payload:!a.openDialogSelectAddress})};function O(){return(O=Object(E.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CONTROL_OPEN_DIALOG_SUM_ORDER",payload:!0}),t({type:"CONTROL_OPEN_DIALOG_SELECT_ADDRESS",payload:!1});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.useEffect((function(){var e=[];j.doc(sessionStorage.getItem("liff_id")).collection("users").doc(o.userId).collection("address").get().then((function(a){a.docs.forEach((function(t){e.push(t.data())})),t({type:"ADDRESS_STORAGE",payload:e}),t({type:"AUTH_FIST_PATH",payload:sessionStorage.getItem("fist_path")}),t({type:"AUTH_LIFF_ID",payload:sessionStorage.getItem("liff_id")})}))}),[]),Object(n.jsxs)(k.a,{fullScreen:!0,open:a.openDialogSelectAddress,onClose:b,TransitionComponent:We,children:[Object(n.jsx)(N.a,{className:e.appBar,children:Object(n.jsxs)(B.a,{children:[Object(n.jsx)(P.a,{variant:"h6",className:e.title,children:"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"}),Object(n.jsx)(G.a,{edge:"start",color:"inherit",onClick:b,"aria-label":"close",children:Object(n.jsx)(M.a,{})})]})}),Object(n.jsx)(F.a,{component:"nav","aria-labelledby":"nested-list-subheader",subheader:Object(n.jsx)(ee.a,{component:"div",id:"nested-list-subheader",style:{backgroundColor:"white"},children:"\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"}),className:e.root,children:c.storage.map((function(a,c){return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(ne.a,{}),Object(n.jsx)(te.a,{selected:l===c,button:!0,onClick:function(e){return function(e,a,n){p(a),t({type:"ORDER_ADDRESS",payload:n}),console.log(a,n)}(0,c,a)},children:Object(n.jsx)(ae.a,{primary:a.name,secondary:Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(P.a,{component:"span",variant:"body2",className:e.inline,color:"textPrimary",children:a.numberPhone})," \u2014 "+a.address]})})})]},c)}))}),Object(n.jsx)(N.a,{position:"fixed",color:"primary",className:e.appBarBottom,children:Object(n.jsx)(R.a,{variant:"contained",style:{fontSize:"1em",backgroundColor:"#00b900",color:"#fff",fontWeight:"bold"},onClick:function(){return O.apply(this,arguments)},children:"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e17\u0e35\u0e48\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"})})]})}var Ye=Object(C.a)((function(e){return{badge:{right:-3,top:13,border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px"}}}))(Ce.a),Ke=Object(p.a)((function(e){return{avatars:{width:e.spacing(10),height:e.spacing(10)},appBar:{top:"auto",bottom:0,backgroundColor:"white",padding:15},layout:{padding:"10px 0px"},app:{height:450},gridList:{width:"100%",height:"100%"},icon:{color:"rgba(255, 255, 255, 0.54)"}}}));var Je=function(){var e=Object(u.b)(),t=Ke(),a=r.a.useState(0),c=Object(s.a)(a,2),o=(c[0],c[1]),i=Object(u.c)((function(e){return e.user})),d=Object(u.c)((function(e){return e.product})),l=Object(u.c)((function(e){return e.control})),p=Object(u.c)((function(e){return e.order})),j=I.collection("line_apps");return r.a.useEffect((function(){var t=[];j.doc(sessionStorage.getItem("liff_id")).collection("users").doc(i.userId).collection("products").get().then((function(a){a.docs.forEach((function(e){t.push(e.data())})),e({type:"PRODUCT_STORAGE",payload:t}),e({type:"AUTH_FIST_PATH",payload:sessionStorage.getItem("fist_path")}),e({type:"AUTH_LIFF_ID",payload:sessionStorage.getItem("liff_id")})})),o(p.storage.length)}),[p.storage]),Object(n.jsxs)("div",{style:{paddingBottom:70},children:[Object(n.jsxs)(Re.a,{className:t.gridList,children:[Object(n.jsx)(Te.a,{cols:2,style:{height:"auto"},children:Object(n.jsxs)(ee.a,{component:"div",children:["\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"," ",Object(n.jsx)(G.a,{style:{float:"right"},"aria-label":"cart",onClick:function(){e({type:"CONTROL_OPEN_DIALOG_LIST_ORDER",payload:!l.openDialogListOrder})},children:Object(n.jsx)(Ye,{badgeContent:p.length,color:"secondary",children:Object(n.jsx)(ve.a,{})})})]})},"Subheader"),d.storage.map((function(t,a){return Object(n.jsxs)(Te.a,{component:"a",onClick:(c=t,function(t){p.storage.push(c),e({type:"ORDER_STORAGE",payload:p.storage}),e({type:"ORDER_LENGTH",payload:p.storage.length}),o(p.storage.length)}),children:[Object(n.jsx)("img",{src:t.image,alt:t.name}),Object(n.jsx)(Ie.a,{title:t.name,subtitle:Object(n.jsxs)("span",{children:["id: ",t.productId]}),actionIcon:Object(n.jsxs)(P.a,{variant:"h6",style:{color:"white"},children:["".concat(t.price," "),Object(n.jsx)("span",{style:{fontSize:15},children:"\u0e1a\u0e32\u0e17"})]})})]},a);var c}))]}),Object(n.jsx)(N.a,{position:"fixed",color:"primary",className:t.appBar,children:Object(n.jsx)(R.a,{variant:"contained",style:{fontSize:"1em",backgroundColor:"#00b900",color:"#fff",fontWeight:"bold"},onClick:function(){e({type:"CONTROL_OPEN_DIALOG_SELECT_ADDRESS",payload:!l.openDialogSelectAddress})},children:"\u0e0b\u0e37\u0e49\u0e2d"})}),Object(n.jsx)(Be,{}),Object(n.jsx)(Ve,{}),Object(n.jsx)(Me,{})]})},Xe=Object(p.a)((function(e){return{avatars:{width:e.spacing(10),height:e.spacing(10)},appBar:{top:"auto",bottom:0,backgroundColor:"white",padding:15},layout:{padding:"10px 0px"},app:{height:450}}}));function Qe(e){var t=Object(u.c)((function(e){return e.auth})),a=f.a.parse(window.location.search);return console.log(t.liff_id),Object(n.jsx)(r.a.Fragment,{children:t.liff_id?Object(n.jsx)(r.a.Fragment,{children:t.status?Object(n.jsx)(r.a.Fragment,{children:e.children}):Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(h.a,{to:"/setup?liff_id=".concat(a.liff_id,"&pathname=").concat(window.location.pathname)})})}):Object(n.jsx)(g,{})})}var Ze=function(){var e=r.a.useState(!0),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Xe(),i=Object(u.b)(),d=f.a.parse(window.location.search),l=Object(u.c)((function(e){return e.auth}));return r.a.useEffect((function(){d.liff_id?(sessionStorage.setItem("liff_id",d.liff_id),sessionStorage.setItem("fist_path",window.location.pathname),i({type:"AUTH_LIFF_ID",payload:d.liff_id}),i({type:"AUTH_STATUS",payload:l.status}),c(!1)):(c(!1),i({type:"AUTH_LIFF_ID",payload:d.liff_id}))}),[]),Object(n.jsx)("div",{className:o.app,children:a?Object(n.jsx)(j,{}):Object(n.jsx)(r.a.Fragment,{children:Object(n.jsx)(y.a,{children:Object(n.jsx)(b.a,{children:Object(n.jsx)(O.a,{classNames:"fade",timeout:300,children:Object(n.jsxs)(h.d,{children:[Object(n.jsx)(h.b,{exact:!0,path:"/",children:sessionStorage.getItem("liff_id")?Object(n.jsx)($,{}):Object(n.jsx)(g,{})}),Object(n.jsx)(h.b,{path:"/setup",children:sessionStorage.getItem("liff_id")?Object(n.jsx)(L,{}):Object(n.jsx)(g,{})}),Object(n.jsx)(h.b,{path:"/setting",children:Object(n.jsx)(Qe,{children:Object(n.jsx)(q,{})})}),Object(n.jsx)(h.b,{path:"/address",children:Object(n.jsx)(Qe,{children:Object(n.jsx)(he,{})})}),Object(n.jsx)(h.b,{path:"/add_product",children:Object(n.jsx)(Qe,{children:Object(n.jsx)(Ne,{})})}),Object(n.jsx)(h.b,{path:"/products",children:Object(n.jsx)(Qe,{children:Object(n.jsx)(Je,{})})})]})},window.location.key)})})})})},qe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,209)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))},$e=a(65),et={userId:"",displayName:"",pictureUrl:"",numberPhone:""},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DISPLAY_NAME":return Object(D.a)(Object(D.a)({},e),{},{displayName:t.payload});case"USER_ID":return Object(D.a)(Object(D.a)({},e),{},{userId:t.payload});case"USER_PICTURE_URL":return Object(D.a)(Object(D.a)({},e),{},{pictureUrl:t.payload});case"USER_NUMBER_PHONE":return Object(D.a)(Object(D.a)({},e),{},{numberPhone:t.payload});default:return e}},at={openDialogChangNumber:!1,openSnackbarUpdateNumberSeccuss:!1,openDialogAddAddress:!1,openDialogUpdateAddress:!1,openDialogDeleteAddress:!1,openDialogUpdateProduct:!1,openDialogAddProduct:!1,openDialogDeleteProduct:!1,openDialogListOrder:!1,openDialogSelectAddress:!1,openDialogSumOrder:!1},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONTROL_OPEN_DIALOG_CHANG_NUMBER_PHONE":return Object(D.a)(Object(D.a)({},e),{},{openDialogChangNumber:t.payload});case"CONTROL_OPEN_SNACKBARK_UPDATE_NUMBER_PHONE_SECCUSS":return Object(D.a)(Object(D.a)({},e),{},{openSnackbarUpdateNumberSeccuss:t.payload});case"CONTROL_OPEN_DIALOG_ADD_ADDRESS":return Object(D.a)(Object(D.a)({},e),{},{openDialogAddAddress:t.payload});case"CONTROL_OPEN_DIALOG_ADD_PRODUCT":return Object(D.a)(Object(D.a)({},e),{},{openDialogAddProduct:t.payload});case"CONTROL_OPEN_DIALOG_UPDATE_ADDRESS":return Object(D.a)(Object(D.a)({},e),{},{openDialogUpdateAddress:t.payload});case"CONTROL_OPEN_DIALOG_UPDATE_PRODUCT":return Object(D.a)(Object(D.a)({},e),{},{openDialogUpdateProduct:t.payload});case"CONTROL_OPEN_DIALOG_DELETE_ADDRESS":return Object(D.a)(Object(D.a)({},e),{},{openDialogDeleteAddress:t.payload});case"CONTROL_OPEN_DIALOG_DELETE_PRODUCT":return Object(D.a)(Object(D.a)({},e),{},{openDialogDeleteProduct:t.payload});case"CONTROL_OPEN_DIALOG_LIST_ORDER":return Object(D.a)(Object(D.a)({},e),{},{openDialogListOrder:t.payload});case"CONTROL_OPEN_DIALOG_SELECT_ADDRESS":return Object(D.a)(Object(D.a)({},e),{},{openDialogSelectAddress:t.payload});case"CONTROL_OPEN_DIALOG_SUM_ORDER":return Object(D.a)(Object(D.a)({},e),{},{openDialogSumOrder:t.payload});default:return e}},ct=a(111),rt={todoList:[{id:1,content:"Play video game"},{id:2,content:"Learn nodejs & python"},{id:3,content:"Join meetup event"}]},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO":return Object(D.a)(Object(D.a)({},e),{},{todoList:[].concat(Object(ct.a)(e.todoList),[t.payload])});case"REMOVE_TODO":return Object(D.a)(Object(D.a)({},e),{},{todoList:t.payload});default:return e}},it={status:!1},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_STATUS":return Object(D.a)(Object(D.a)({},e),{},{status:t.payload});case"AUTH_LIFF_ID":return Object(D.a)(Object(D.a)({},e),{},{liff_id:t.payload});case"AUTH_FIST_PATH":return Object(D.a)(Object(D.a)({},e),{},{fistPath:t.payload});default:return e}},dt={addName:"",addNumbeerPhone:"",addAddress:"",updateNumber:0,updateId:"",updateName:"",updateNumberPhone:"",updateAddress:"",storage:[]},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADDRESS_ADD_NAME":return Object(D.a)(Object(D.a)({},e),{},{addName:t.payload});case"ADDRESS_ADD_NUMBER_PHONE":return Object(D.a)(Object(D.a)({},e),{},{addNumbeerPhone:t.payload});case"ADDRESS_ADD_ADDRESS":return Object(D.a)(Object(D.a)({},e),{},{addAddress:t.payload});case"ADDRESS_UPDATE_NAME":return Object(D.a)(Object(D.a)({},e),{},{updateName:t.payload});case"ADDRESS_UPDATE_NUMBER_PHONE":return Object(D.a)(Object(D.a)({},e),{},{updateNumberPhone:t.payload});case"ADDRESS_UPDATE_ADDRESS":return Object(D.a)(Object(D.a)({},e),{},{updateAddress:t.payload});case"ADDRESS_UPDATE_NUMBER":return Object(D.a)(Object(D.a)({},e),{},{updateNumber:t.payload});case"ADDRESS_UPDATE_ID":return Object(D.a)(Object(D.a)({},e),{},{updateId:t.payload});case"ADDRESS_STORAGE":return Object(D.a)(Object(D.a)({},e),{},{storage:t.payload});default:return e}},pt={addName:"",addProductId:"",addId:"",addPrice:0,addImage:"",updateName:"",updateProductId:"",updateId:"",updatePrice:0,updateImage:"",updateNumber:0,storage:[]},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_ADD_NAME":return Object(D.a)(Object(D.a)({},e),{},{addName:t.payload});case"PRODUCT_ADD_PRUDUCT_ID":return Object(D.a)(Object(D.a)({},e),{},{addProductId:t.payload});case"PRODUCT_ADD_ID":return Object(D.a)(Object(D.a)({},e),{},{addId:t.payload});case"PRODUCT_ADD_PRICE":return Object(D.a)(Object(D.a)({},e),{},{addPrice:t.payload});case"PRODUCT_ADD_IMAGE":return Object(D.a)(Object(D.a)({},e),{},{addImage:t.payload});case"PRODUCT_UPDATE_NAME":return Object(D.a)(Object(D.a)({},e),{},{updateName:t.payload});case"PRODUCT_UPDATE_PRUDUCT_ID":return Object(D.a)(Object(D.a)({},e),{},{updateProductId:t.payload});case"PRODUCT_UPDATE_ID":return Object(D.a)(Object(D.a)({},e),{},{updateId:t.payload});case"PRODUCT_UPDATE_PRICE":return Object(D.a)(Object(D.a)({},e),{},{updatePrice:t.payload});case"PRODUCT_UPDATE_IMAGE":return Object(D.a)(Object(D.a)({},e),{},{updateImage:t.payload});case"PRODUCT_UPDATE_NUMBER":return Object(D.a)(Object(D.a)({},e),{},{updateNumber:t.payload});case"PRODUCT_STORAGE":return Object(D.a)(Object(D.a)({},e),{},{storage:t.payload});default:return e}},ut={storage:[],length:0},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_STORAGE":return Object(D.a)(Object(D.a)({},e),{},{storage:t.payload});case"ORDER_LENGTH":return console.log(t.payload),Object(D.a)(Object(D.a)({},e),{},{length:t.payload});case"ORDER_ADDRESS":return console.log(t.payload),Object(D.a)(Object(D.a)({},e),{},{address:t.payload});default:return e}},Ot=Object($e.b)({user:tt,control:nt,todos:ot,auth:st,address:lt,product:jt,order:bt}),ht=Object($e.c)(Ot);i.a.render(Object(n.jsx)(u.a,{store:ht,children:Object(n.jsx)(Ze,{})}),document.getElementById("root")),qe()}},[[152,1,2]]]);
//# sourceMappingURL=main.e88980d0.chunk.js.map